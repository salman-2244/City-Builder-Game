
image: python:2.7.18


variables:
  PIP_CACHE_DIR: "$CI_PROJECT_DIR/.cache/pip"

cache:
  paths:
    - .cache/pip
    - venv/

before_script:
  - python --version  # For debugging
  - pip install virtualenv
  - virtualenv venv
  - source venv/bin/activate

build:
    script:
        - mkdir -p build

test:
  script:
        - python -m unittest discover -s unit_tests -p "*_test.py"


deploy:
  stage: deploy
  script: scp -r -P 2222 build/git@szofttech.inf.elte.hu:software-technology-2023/group-2/blue-fox.git:/home/user/deployed_game
  environment: production
